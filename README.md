# 贪吃蛇大作战
## 1. 项目需求

在屏幕中生成一条蛇，通过键盘按键控制蛇身在上下左右四个方向移动（注意不能反向移动，同时随机在屏幕中空白位置刷新食物，
蛇在吃到食物后，蛇身会增加长度，同时得分也会增加。每当吃掉一个食物立即刷新一个食物。在蛇头撞到屏幕边缘或者撞到蛇身时，游戏结束。

## 2. 需求分析

分析该项目需求，至少需要完成以下几个功能:	
+  绘制蛇身：可以通过绘制矩形框的方式来代替蛇身，同时可以考虑使用显眼的颜色来标志蛇身
+ 蛇移动：需要考虑两种何况，蛇普通移动和蛇吃到了食物
+ 蛇更改移动方向：通过键盘输入不同的字符来控制蛇的移动方向，注意不能反向移动 
+ 检测蛇是否吃到了食物：蛇每次移动都需判断是否吃到食物，从而进行不同处理.生成食物：当一个食物被吃掉后，随t在屏幕中生成另一个食物，但需注意，不可在蛇身上生成食物，要在空白区域生成。

## 3. 项目背景及实现

使用easyx来绘制图形化界面，使项目看起来更加美观。
因此在运行项目之前，请先安装easyx并保证可以正常使用。

### 3.1 基础参数

+ 画布大小：即绘图窗口的大小，需要一个宽度和一个长度
+ 蛇身每一个矩形框的大小
+ 蛇的移动速度：游戏的难度 速度越快，对用游戏难度也越高
+ 蛇移动方向：蛇可以在上下左右四个方向移动
+ 蛇身：蛇由多块蛇身组成，每个蛇身都应该包括当前蛇身的坐标信息（横纵坐标，以及蛇当前的移动方向）
+ 食物： 生成的食物应该包含食物的坐标信息。

现在所有的基础参数都已经定义完成。

### 3.2 绘制绘图窗口

使用easyx来绘制。				

### 3.3 蛇身

+ 由于蛇是多块蛇身组成的
+ 要使用结构体数组或者链表来存储蛇。
+ 如果蛇吃了一个食物，那么其实就是这个心得食物变成了蛇头。
+ 如果使用一个数组的话，则相当于在最前面加了一个，之后的都需要往后退一格，效率很慢，那么使用链表。
+ 在这里我们使用双端队列，即deque。既有下标可以直接访问中间的元素，也可以在前端和末端高效率添加与删除。

#### 3.3.1 绘制蛇身

在窗口中绘制出初蛇身。

函数分析：

+ 参数：
1. 将蛇作为一个参数，用矩形框来代替蛇的每一块，同时用绿色来代替蛇身，使用引用传递。

+ 返回值：void

### 3.4 游戏运行

#### 3.4.1 判断游戏是否结束

游戏结束标志： 蛇头撞到了窗口边界或者自己的身体。

#### 3.4.2 判断结束函数

函数分析：

+ 参数：蛇头的横纵坐标，判断其与窗口边界，与蛇身的关系。

+ 返回值：布尔值，但实际不需要，因为如果符合条件，直接结束游戏。

#### 3.4.3 蛇移动

整条蛇在双端队列中，由于蛇每次朝一个方向移动，其蛇身位置信息都要改变。但有一种简单的方法，即将蛇尾作为新的蛇头。如果吃到了食物，食物变成了蛇头。没有食物，删除蛇尾，放到蛇头。

函数分析：

+ 参数：

	+ 蛇本身
	+ 是否吃到食物

+ 返回值：void

#### 3.4.4 更改蛇的移动方向。

从键盘获取输入的按键，比如wasd和小键盘上下左右。 可以使用getchar函数或者cin，但这个时候我们还需要输入回车，不可行。

直接捕获键盘按键信息，如果没有捕获到消息，则不管。

不可以反向更改，比如上直接到下，左直接到右。

函数分析：

+ 参数：蛇

+ 返回值：void

#### 3.4.5 生成食物

在屏幕中的随机位置生成食物，注意食物不能生成在蛇身上。

函数分析：

+ 参数：食物，蛇

+ 返回值：void

如果吃到食物，增加得分。

 #### 3.4.6 检测是否吃到了食物

 函数分析：

 参数： 蛇， 食物

 返回值： 布尔值

